webpackJsonp([67],{148:function(t,s,_){t.exports=_(259)},259:function(t,s,_){var v=_(2)(null,_(375),null,null);t.exports=v.exports},375:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("section",[_("h1",[t._v("Loadmore")]),t._v(" "),_("blockquote",[_("p",[t._v("下拉/上拉刷新，支持自定义 HTML 模板。")])]),t._v(" "),_("hr"),t._v(" "),_("h2",[t._v("引入")]),t._v(" "),t._m(0),t._v(" "),_("h2",[t._v("例子")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),_("p",[t._v("列表底部的上拉刷新与之类似")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),_("h2",[t._v("自定义 HTML 模板")]),t._v(" "),_("p",[t._v("可以为列表顶部和底部的加载提示区域提供自定义的 HTML 模板")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),_("h2",[t._v("配置加载提示区域的文字")]),t._v(" "),t._m(10),t._v(" "),_("h2",[t._v("自动检测")]),t._v(" "),t._m(11),t._v(" "),_("h2",[t._v("API")]),t._v(" "),t._m(12),_("h2",[t._v("Slot")]),t._v(" "),t._m(13)],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("pre",[_("code",{staticClass:"language-javascript"},[_("span",{staticClass:"hljs-keyword"},[t._v("import")]),t._v(" { Loadmore } "),_("span",{staticClass:"hljs-keyword"},[t._v("from")]),t._v(" "),_("span",{staticClass:"hljs-string"},[t._v("'mint-ui'")]),t._v(";\n\nVue.component(Loadmore.name, Loadmore);\n")])])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("pre",[_("code",{staticClass:"language-html"},[_("span",{staticClass:"hljs-tag"},[t._v("<"),_("span",{staticClass:"hljs-name"},[t._v("mt-loadmore")]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v(":top-method")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v('"loadTop"')]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v(":bottom-method")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v('"loadBottom"')]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v(":bottom-all-loaded")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v('"allLoaded"')]),t._v(">")]),t._v("\n  "),_("span",{staticClass:"hljs-tag"},[t._v("<"),_("span",{staticClass:"hljs-name"},[t._v("ul")]),t._v(">")]),t._v("\n    "),_("span",{staticClass:"hljs-tag"},[t._v("<"),_("span",{staticClass:"hljs-name"},[t._v("li")]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v("v-for")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v('"item in list"')]),t._v(">")]),_("span",[t._v("{{")]),t._v(" item "),_("span",[t._v("}}")]),_("span",{staticClass:"hljs-tag"},[t._v("</"),_("span",{staticClass:"hljs-name"},[t._v("li")]),t._v(">")]),t._v("\n  "),_("span",{staticClass:"hljs-tag"},[t._v("</"),_("span",{staticClass:"hljs-name"},[t._v("ul")]),t._v(">")]),t._v("\n"),_("span",{staticClass:"hljs-tag"},[t._v("</"),_("span",{staticClass:"hljs-name"},[t._v("mt-loadmore")]),t._v(">")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("p",[t._v("以列表顶部的下拉刷新为例：按住列表，下拉一定距离（通过 "),_("code",[t._v("topDistance")]),t._v(" 配置）后释放，被指定为 "),_("code",[t._v("top-method")]),t._v(" 的方法就会执行")])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("pre",[_("code",{staticClass:"language-javascript"},[t._v("loadTop(id) {\n  ..."),_("span",{staticClass:"hljs-comment"},[t._v("// 加载更多数据")]),t._v("\n  "),_("span",{staticClass:"hljs-keyword"},[t._v("this")]),t._v(".$broadcast("),_("span",{staticClass:"hljs-string"},[t._v("'onTopLoaded'")]),t._v(", id);\n}\n")])])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("p",[t._v("注意在这个方法的最后需要广播 "),_("code",[t._v("onTopLoaded")]),t._v(" 事件，参数为 "),_("code",[t._v("id")]),t._v("。这是因为在加载数据后需要对组件进行一些重新定位的操作，"),_("code",[t._v("id")]),t._v(" 参数能够避免在同一页面有多个 "),_("code",[t._v("loadmore")]),t._v(" 实例时互相干扰。")])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("pre",[_("code",{staticClass:"language-javascript"},[t._v("loadBottom(id) {\n  ..."),_("span",{staticClass:"hljs-comment"},[t._v("// 加载更多数据")]),t._v("\n  "),_("span",{staticClass:"hljs-keyword"},[t._v("this")]),t._v(".allLoaded = "),_("span",{staticClass:"hljs-literal"},[t._v("true")]),t._v(";"),_("span",{staticClass:"hljs-comment"},[t._v("// 若数据已全部获取完毕")]),t._v("\n  "),_("span",{staticClass:"hljs-keyword"},[t._v("this")]),t._v(".$broadcast("),_("span",{staticClass:"hljs-string"},[t._v("'onBottomLoaded'")]),t._v(", id);\n}\n")])])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("p",[t._v("唯一的区别是，当底部数据全部获取完毕时，可以将绑定到组件 "),_("code",[t._v("bottom-all-loaded")]),t._v(" 属性的变量赋值为 "),_("code",[t._v("true")]),t._v("，这样 "),_("code",[t._v("bottom-method")]),t._v(" 就不会再次执行了。")])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("pre",[_("code",{staticClass:"language-html"},[_("span",{staticClass:"hljs-tag"},[t._v("<"),_("span",{staticClass:"hljs-name"},[t._v("mt-loadmore")]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v(":top-method")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v('"loadTop"')]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v(":top-status.sync")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v('"topStatus"')]),t._v(">")]),t._v("\n  "),_("span",{staticClass:"hljs-tag"},[t._v("<"),_("span",{staticClass:"hljs-name"},[t._v("ul")]),t._v(">")]),t._v("\n    "),_("span",{staticClass:"hljs-tag"},[t._v("<"),_("span",{staticClass:"hljs-name"},[t._v("li")]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v("v-for")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v('"item in list"')]),t._v(">")]),_("span",[t._v("{{")]),t._v(" item "),_("span",[t._v("}}")]),_("span",{staticClass:"hljs-tag"},[t._v("</"),_("span",{staticClass:"hljs-name"},[t._v("li")]),t._v(">")]),t._v("\n  "),_("span",{staticClass:"hljs-tag"},[t._v("</"),_("span",{staticClass:"hljs-name"},[t._v("ul")]),t._v(">")]),t._v("\n  "),_("span",{staticClass:"hljs-tag"},[t._v("<"),_("span",{staticClass:"hljs-name"},[t._v("div")]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v("slot")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v('"top"')]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v("class")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v('"mint-loadmore-top"')]),t._v(">")]),t._v("\n    "),_("span",{staticClass:"hljs-tag"},[t._v("<"),_("span",{staticClass:"hljs-name"},[t._v("span")]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v("v-show")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v("\"topStatus !== 'loading'\"")]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v(":class")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v("\"{ 'rotate': topStatus === 'drop' }\"")]),t._v(">")]),t._v("↓"),_("span",{staticClass:"hljs-tag"},[t._v("</"),_("span",{staticClass:"hljs-name"},[t._v("span")]),t._v(">")]),t._v("\n    "),_("span",{staticClass:"hljs-tag"},[t._v("<"),_("span",{staticClass:"hljs-name"},[t._v("span")]),t._v(" "),_("span",{staticClass:"hljs-attr"},[t._v("v-show")]),t._v("="),_("span",{staticClass:"hljs-string"},[t._v("\"topStatus === 'loading'\"")]),t._v(">")]),t._v("Loading..."),_("span",{staticClass:"hljs-tag"},[t._v("</"),_("span",{staticClass:"hljs-name"},[t._v("span")]),t._v(">")]),t._v("\n  "),_("span",{staticClass:"hljs-tag"},[t._v("</"),_("span",{staticClass:"hljs-name"},[t._v("div")]),t._v(">")]),t._v("\n"),_("span",{staticClass:"hljs-tag"},[t._v("</"),_("span",{staticClass:"hljs-name"},[t._v("mt-loadmore")]),t._v(">")]),t._v("\n")])])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("p",[t._v("比如需要配置列表顶部的 HTML，则需要在 "),_("code",[t._v("loadmore")]),t._v(" 标签上添加一个与 "),_("code",[t._v("top-status")]),t._v(" 同步的变量，同时为自定义 HTML 模板的最外层标签设置 "),_("code",[t._v("slot")]),t._v(" 属性为 "),_("code",[t._v("top")]),t._v("，类名为 "),_("code",[t._v("mint-loadmore-top")]),t._v("。"),_("code",[t._v("top-status")]),t._v(" 有三个可能的值，表示组件目前所处的状态：")])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("ul",[_("li",[_("code",[t._v("pull")]),t._v("：组件已经被按下，但按下的距离未达到 "),_("code",[t._v("topDistance")]),t._v("，此时释放不会触发 "),_("code",[t._v("top-method")]),t._v("，列表会回到初始位置")]),t._v(" "),_("li",[_("code",[t._v("drop")]),t._v("：按下的距离不小于 "),_("code",[t._v("topDistance")]),t._v("，此时释放会触发 "),_("code",[t._v("top-method")])]),t._v(" "),_("li",[_("code",[t._v("loading")]),t._v("：组件已被释放，"),_("code",[t._v("top-method")]),t._v(" 正在执行")])])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("p",[t._v("在不使用自定义 HTML 模板的情况下，可以配置 "),_("code",[t._v("loadmore")]),t._v(" 本身自带的加载提示区域的文字。以列表顶部为例，对应于 "),_("code",[t._v("top-status")]),t._v(" 的三个状态，可配置的属性依次为 "),_("code",[t._v("topPullText")]),t._v("、"),_("code",[t._v("topDropText")]),t._v(" 和 "),_("code",[t._v("topLoadingText")]),t._v("。与之对应的底部属性为 "),_("code",[t._v("bottomPullText")]),t._v("、"),_("code",[t._v("bottomDropText")]),t._v(" 和 "),_("code",[t._v("bottomLoadingText")]),t._v("。")])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("p",[_("code",[t._v("loadmore")]),t._v(" 在初始化时会自动检测它的高度是否能够撑满其容器，如果不能则会调用 "),_("code",[t._v("bottom-method")]),t._v("，直到撑满容器为止。如果不希望使用这一机制，可以将 "),_("code",[t._v("auto-fill")]),t._v(" 设为 "),_("code",[t._v("false")]),t._v("。")])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("div",{staticClass:"table-container"},[_("table",{staticClass:"table"},[_("thead",[_("tr",[_("th",[t._v("参数")]),t._v(" "),_("th",[t._v("说明")]),t._v(" "),_("th",[t._v("类型")]),t._v(" "),_("th",[t._v("可选值")]),t._v(" "),_("th",[t._v("默认值")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("autoFill")]),t._v(" "),_("td",[t._v("若为真，"),_("code",[t._v("loadmore")]),t._v(" 会自动检测并撑满其容器")]),t._v(" "),_("td",[t._v("Boolean")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("true")])]),t._v(" "),_("tr",[_("td",[t._v("topPullText")]),t._v(" "),_("td",[_("code",[t._v("topStatus")]),t._v(" 为 "),_("code",[t._v("pull")]),t._v(" 时加载提示区域的文字")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("'下拉刷新'")])]),t._v(" "),_("tr",[_("td",[t._v("topDropText")]),t._v(" "),_("td",[_("code",[t._v("topStatus")]),t._v(" 为 "),_("code",[t._v("drop")]),t._v(" 时加载提示区域的文字")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("'释放更新'")])]),t._v(" "),_("tr",[_("td",[t._v("topLoadingText")]),t._v(" "),_("td",[_("code",[t._v("topStatus")]),t._v(" 为 "),_("code",[t._v("loading")]),t._v(" 时加载提示区域的文字")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("'加载中...'")])]),t._v(" "),_("tr",[_("td",[t._v("topDistance")]),t._v(" "),_("td",[t._v("触发 "),_("code",[t._v("topMethod")]),t._v(" 的下拉距离阈值（像素）")]),t._v(" "),_("td",[t._v("Number")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("70")])]),t._v(" "),_("tr",[_("td",[t._v("topMethod")]),t._v(" "),_("td",[t._v("下拉刷新执行的方法")]),t._v(" "),_("td",[t._v("Function")]),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("bottomPullText")]),t._v(" "),_("td",[_("code",[t._v("bottomStatus")]),t._v(" 为 "),_("code",[t._v("pull")]),t._v(" 时加载提示区域的文字")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("'上拉刷新'")])]),t._v(" "),_("tr",[_("td",[t._v("bottomDropText")]),t._v(" "),_("td",[_("code",[t._v("bottomStatus")]),t._v(" 为 "),_("code",[t._v("drop")]),t._v(" 时加载提示区域的文字")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("'释放更新'")])]),t._v(" "),_("tr",[_("td",[t._v("bottomLoadingText")]),t._v(" "),_("td",[_("code",[t._v("bottomStatus")]),t._v(" 为 "),_("code",[t._v("loading")]),t._v(" 时加载提示区域的文字")]),t._v(" "),_("td",[t._v("String")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("'加载中...'")])]),t._v(" "),_("tr",[_("td",[t._v("bottomDistance")]),t._v(" "),_("td",[t._v("触发 "),_("code",[t._v("bottomMethod")]),t._v(" 的上拉距离阈值（像素）")]),t._v(" "),_("td",[t._v("Number")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("70")])]),t._v(" "),_("tr",[_("td",[t._v("bottomMethod")]),t._v(" "),_("td",[t._v("上拉刷新执行的方法")]),t._v(" "),_("td",[t._v("Function")]),t._v(" "),_("td"),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("bottomAllLoaded")]),t._v(" "),_("td",[t._v("若为真，则 "),_("code",[t._v("bottomMethod")]),t._v(" 不会被再次触发")]),t._v(" "),_("td",[t._v("Boolean")]),t._v(" "),_("td"),t._v(" "),_("td",[t._v("false")])])])])])},function(){var t=this,s=t.$createElement,_=t._self._c||s;return _("div",{staticClass:"table-container"},[_("table",{staticClass:"table"},[_("thead",[_("tr",[_("th",[t._v("name")]),t._v(" "),_("th",[t._v("描述")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("-")]),t._v(" "),_("td",[t._v("数据列表")])]),t._v(" "),_("tr",[_("td",[t._v("top")]),t._v(" "),_("td",[t._v("自定义顶部加载提示区域 HTML 模板")])]),t._v(" "),_("tr",[_("td",[t._v("bottom")]),t._v(" "),_("td",[t._v("自定义底部加载提示区域 HTML 模板")])])])])])}]}}});
//# sourceMappingURL=67.1ae47d9928d59daa38dd.js.map